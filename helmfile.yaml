---
repositories:
  - name: stable
    url: https://charts.helm.sh/stable

environments:
  default:
    values: 
    - values/dev.yaml
  dev:
    values:
    - values/dev.yaml

helmDefaults:
  wait: false
  createNamespace: true
  timeout: 600

releases:

  - name: ngp-base
    chart: ./charts/ngp-base
    values:
      - "./charts/ngp-base/values-{{ .Environment.Name }}.yaml"

  - name: dealsheet-api
    namespace: {{ .Namespace }}
    chart: ./charts/dealsheet-api
    values:
      - "./charts/dealsheet-api/values-{{ .Environment.Name }}.yaml"

  - name: graphql-mesh
    namespace: {{ .Namespace }}
    chart: ./charts/graphql-mesh
    values:
      - "./charts/graphql-mesh/values-{{ .Environment.Name }}.yaml"
  
  - name: Istio
    chart: ./charts/Istio
    namespace: {{ .Values.namespace }}
    values:
      - "./charts/Istio/values-{{ .Environment.Name }}.yaml"